---
import CTALink from '@components/CTALink.astro';

export interface Props {
  title: string;
  cta: string;
  ctaLink: string;
}

const { title, cta, ctaLink } = Astro.props;
---

<li>
  <a class="cardLink" href={ctaLink} aria-hidden="true" tabindex="-1">&nbsp;</a>
  <div class="title">{title}</div>
  <slot />
  <div class="body">
    <slot name="body" />
  </div>
  <CTALink class="ctaLink" href={ctaLink}>{cta}</CTALink>
</li>

<style lang="scss">
  @use '@styles/_vars.scss';

  li {
    position: relative;

    text-align: center;
    display: grid;
    grid-template-areas:
      'title'
      'img'
      'body'
      'cta';
    grid-template-rows: auto auto 1fr auto;
    gap: 16px;

    overflow: hidden;

    background-color: var(--cta-card-bg);
    padding: 16px;
    border-radius: vars.$card-radius;
    border: 1px solid var(--card-border-color);

    transition:
      transform 200ms,
      box-shadow 200ms;

    @media (hover: hover) {
      &:hover {
        transform: scale(1.02) translate(0px, -5px);
        box-shadow: var(--box-shadow);
      }
    }
  }

  .cardLink {
    position: absolute;
    text-decoration: none;
    inset: 0;
    z-index: 1;
  }

  .title {
    grid-area: title;
    font-weight: vars.$font-weight-bold;
    font-size: 1.4rem;
    line-height: 1.4rem;
  }

  .body {
    grid-area: body;
  }

  .ctaLink {
    grid-area: cta;
    z-index: 2;
  }

  .title + :global(*) {
    grid-area: img;
    justify-self: center;
    block-size: 120px;
    inline-size: auto;
  }

  .title + :global(svg) {
    display: block;
  }
</style>
